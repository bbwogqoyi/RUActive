<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>RUACTIVE</title>
  <link rel="stylesheet" href="Assets/css/Modules/footer.css"/>
  <link rel="stylesheet" href="Assets/css/Modules/header.css"/>
  <link rel="stylesheet" href="Assets/css/Pages/profile.css"/>
  <link rel="stylesheet" href="Assets/css/main.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="icon" href="Assets/images/2.png" type="image/png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <link rel="stylesheet" href="Assets/css/hideDiv.css"/>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="assets/javascript/RoleLookUp.js"></script>
</head>
<body>
	<div class="ru_nav">
        <ul>
		    <li class="Logo"><a href="#home"><img src="Assets/images/2.png"  alt="RUACTIVE Logo"></a></li>
            <li style="float:right"><a href="#help">Help</a></li>
             <li onclick="logOut()" style="float:right"><a href="#">Logout</a></li>
        </ul>
    </div>
    <div class="profile">
        <div class="propic top">
                <img src="Assets/images/2.png"  alt="trainer_2">
        </div>
        <div class="personal_details">
            <form>
                <div class="form-group">
                    <label for="f_name">Name:</label>
                    <input type="text" class="form-control" id="f_name">
                </div>
                <div class="form-group">
                    <label for="l_name">Last Name:</label>
                    <input type="text" class="form-control" id="l_name">
                </div>
                <div class="form-group">
                    <label for="user_id">User Role:</label>
                    <input type="text" class="form-control" id="user_id">
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" class="form-control" id="email">
                </div>
                <div class="form-group">
                    <label for="phone">Phone:</label>
                    <input type="text" class="form-control" id="phone">
                </div>
                <div class="form-group">
                  <label id="currentPwdLabel" for="currentPwd">Current Password:</label>
                  <input type="text" class="form-control" id="currentPwd">
                </div>
                <div class="form-group">
                  <label id="pwdLabel" for="pwd">Password:</label>
                  <input type="text" class="form-control" id="pwd">
                </div>
                <div class="form-group">
                  <label id="confirmPwdLabel" for="confirmPwd">Confirm Password:</label>
                  <input type="text" class="form-control" id="confirmPwd">
                </div>
                <button  onclick="submitForm()" type="button" class="btn btn-default" id="Update" onclick="UpdateEdit()"><i class="fa fa-check" aria-hidden="true"></i> Update</button>
                <button type="button" class="btn btn-default" id="Cancel" onclick="CancelEdit()"><i class="fa fa-times" aria-hidden="true"></i> Cancel</button>
                <button type="button" class="btn btn-default" id="Edit" onclick="CanEdit()"><i class="fa fa-pencil" aria-hidden="true"></i> Edit</button>
            </form>
        </div>
        <div class="propic bottom">
            <img src="Assets/images/2.png"  alt="trainer_2">
        </div>
    </div>
    <hr>
    <div class="Logged_Navigate">
        <div class="Navigate">
            <div class="Navs" id="users">
                <img src="Assets/images/2.png" alt="placeholder"/>
            </div>
            <div class="Navs" id="venues">
                <img src="Assets/images/2.png" alt="placeholder"/>
            </div>
            <div class="Navs" id="messages">
                <img src="Assets/images/2.png" alt="placeholder"/>
            </div>
        </div>
    </div>
    <footer>
        <p>Copyright &copy 2017, Original Xception. All Rights Reserved.</p>
    </footer>
 <div class="hide">
    <script type="text/javascript" src="https://c0abd423.caspio.com/scripts/embed.js"></script>
    <script type="text/javascript">try{f_cbload(true, "c0abd423.caspio.com", "aaa95000b226847ecc9542d2b799");}catch(v_e){;}</script>
    <div class="cxkg"><a href="https://c0abd423.caspio.com/dp.asp?AppKey=aaa95000b226847ecc9542d2b799">Click here</a> to load this Caspio <a href="http://www.caspio.com" target="_blank" title="Cloud Database">Cloud Database</a></div>
    <div id="cbaaa95000b226847ecc9542d2b799"><a href="https://www.caspio.com" target="_blank">Cloud Database</a> by Caspio</div>
 </div>


<script>
  // if user is not authenticated redirect to login page
  $(document).ready(function(){
    var a = IsAuthenticated();
    if(!IsAuthenticated()) location.href = "login.html";
  });
  var user = getSessionUser();
  var keys = ['EditRecordFirst_Name', 'EditRecordLast_Name', 'EditRecordEmail', 'EditRecordPhone', 'EditRecordUser_Role'];
  var profile = ['f_name', 'l_name', 'email', 'phone', 'user_id'];
  for(var i=0; i<profile.length; i+=1){
    var current = keys[i];
    document.getElementById(profile[i]).value = user[current];
  }
     
  function submitForm(){
    var profile = ['f_name', 'l_name', 'email', 'phone', 'user_id', 'currentPwd', 'pwd', 'confirmPwd'];
    var caspioIds = ['EditRecordFirst_Name', 'EditRecordLast_Name', 'EditRecordEmail', 'EditRecordPhone', 'EditRecordUser_Role', 'EditRecordPassword@CurrentPassword', 'EditRecordPassword', 'EditRecordPassword@Confirm'];

    for(var i=0; i<profile.length; i+=1){
      var new_value = document.getElementById(profile[i]).value;
      if(i===4) continue;
      document.getElementById(caspioIds[i]).value = new_value;
    }
    caspio_form.submit();
  }
</script>
<script src="Assets/javascript/Editing_Updating.js" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
</body>
</html>
